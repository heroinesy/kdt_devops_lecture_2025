# Week 4 Day 3: 보안과 컴플라이언스

<div align="center">

**🔒 Zero Trust** • **🔐 인증/인가** • **📋 Policy as Code**

*마이크로서비스 환경의 보안 아키텍처와 컴플라이언스 자동화*

</div>

---

## 🕘 일일 스케줄

### 📊 시간 배분
```
📚 이론 강의: 2.5시간 (50분×3세션) - 보안 개념 및 전략
🛠️ 실습 세션: 1.7시간 (50분×2세션) - 보안 구현
🎮 Challenge: 0.8시간 (50분×1세션) - 보안 시나리오
```

### 🗓️ 상세 스케줄
| 시간 | 구분 | 내용 | 목적 |
|------|------|------|------|
| **09:00-09:50** | 📚 이론 1 | Zero Trust 아키텍처 (50분) | 현대 보안 모델 |
| **09:50-10:00** | ☕ 휴식 | 10분 휴식 | |
| **10:00-10:50** | 📚 이론 2 | 인증/인가 패턴 (50분) | OAuth2, JWT, mTLS |
| **10:50-11:00** | ☕ 휴식 | 10분 휴식 | |
| **11:00-11:50** | 📚 이론 3 | 컴플라이언스 자동화 (50분) | Policy as Code |
| **11:50-12:00** | ☕ 휴식 | 10분 휴식 | |
| **12:00-12:50** | 🛠️ Lab 1 | mTLS + JWT 통합 (50분) | 서비스 간 보안 통신 |
| **12:50-14:00** | 🍽️ 점심 | 점심시간 (70분) | |
| **14:00-14:50** | 🛠️ Lab 2 | OPA Gatekeeper (50분) | 정책 엔진 구축 |
| **14:50-15:00** | ☕ 휴식 | 10분 휴식 | |
| **15:00-15:50** | 🎮 Challenge | 보안 취약점 해결 (50분) | 실전 보안 대응 |

---

## 🎯 학습 목표

### 📚 핵심 학습 목표
- **Zero Trust 이해**: 마이크로서비스 환경의 보안 모델 완전 이해
- **인증/인가 구현**: OAuth2, JWT, mTLS 통합 구현 능력
- **정책 자동화**: OPA를 통한 컴플라이언스 자동화
- **보안 운영**: 실무 보안 시나리오 대응 능력

### 🎯 실무 역량
- **보안 아키텍처 설계**: Zero Trust 기반 마이크로서비스 보안
- **인증 시스템 구축**: 서비스 간 안전한 통신 구현
- **정책 관리**: 코드 기반 보안 정책 관리
- **컴플라이언스**: 자동화된 규정 준수 체계

---

## 📚 이론 세션

### [Session 1: Zero Trust 아키텍처](./session_1.md) (09:00-09:50)
**마이크로서비스 보안 모델의 패러다임 전환**

#### 🎯 학습 목표
- Zero Trust 개념과 필요성 이해
- 전통적 보안 vs Zero Trust 비교
- 마이크로서비스 환경의 Zero Trust 구현
- 실무 적용 전략 수립

#### 📖 주요 내용
- **Zero Trust 원칙**: "절대 신뢰하지 말고, 항상 검증하라"
- **보안 경계**: 네트워크 경계에서 서비스 경계로
- **마이크로세그멘테이션**: 서비스 단위 보안 격리
- **지속적 검증**: 모든 요청의 실시간 검증

---

### [Session 2: 인증/인가 패턴](./session_2.md) (10:00-10:50)
**OAuth2, JWT, mTLS 통합 인증 시스템**

#### 🎯 학습 목표
- OAuth2 프로토콜 완전 이해
- JWT 토큰 기반 인증 구현
- mTLS 상호 인증 메커니즘
- 통합 인증 아키텍처 설계

#### 📖 주요 내용
- **OAuth2 Flow**: Authorization Code, Client Credentials
- **JWT 구조**: Header, Payload, Signature
- **mTLS 동작**: 양방향 인증서 검증
- **통합 전략**: 사용자 vs 서비스 인증 분리

---

### [Session 3: 컴플라이언스 자동화](./session_3.md) (11:00-11:50)
**Policy as Code와 거버넌스**

#### 🎯 학습 목표
- Policy as Code 개념 이해
- OPA (Open Policy Agent) 아키텍처
- Gatekeeper를 통한 K8s 정책 적용
- 컴플라이언스 자동화 전략

#### 📖 주요 내용
- **Rego 언어**: OPA 정책 작성 언어
- **Admission Control**: K8s 리소스 검증
- **정책 라이브러리**: 재사용 가능한 정책 패턴
- **감사 및 보고**: 컴플라이언스 추적

---

## 🛠️ 실습 세션

### [Lab 1: mTLS + JWT 통합 인증](./lab_1.md) (12:00-12:50)
**서비스 간 안전한 통신 구현**

#### 🎯 실습 목표
- Istio를 통한 mTLS 자동 구성
- JWT 기반 사용자 인증 구현
- 서비스 간 인증/인가 통합
- 보안 통신 검증

#### 🔧 구현 내용
- mTLS 자동 구성 및 검증
- JWT 토큰 발급 및 검증 서비스
- Authorization Policy 설정
- 보안 통신 테스트

---

### [Lab 2: OPA Gatekeeper 정책 엔진](./lab_2.md) (14:00-14:50)
**Policy as Code 구현**

#### 🎯 실습 목표
- OPA Gatekeeper 설치 및 구성
- 커스텀 정책 작성 및 적용
- 정책 위반 감지 및 차단
- 컴플라이언스 보고

#### 🔧 구현 내용
- Gatekeeper 설치
- ConstraintTemplate 작성
- 실무 정책 시나리오 구현
- 정책 테스트 및 검증

---

## 🎮 Challenge

### [Challenge: 보안 취약점 진단 및 해결](./challenge.md) (15:00-15:50)
**실전 보안 시나리오 대응**

#### 🎯 Challenge 목표
- 보안 취약점 식별 능력
- 신속한 보안 패치 적용
- 보안 정책 강화
- 사고 대응 프로세스 체험

#### 🚨 시나리오
1. **인증 우회 취약점**: JWT 검증 누락
2. **권한 상승 공격**: RBAC 설정 오류
3. **데이터 유출 위험**: 암호화되지 않은 통신
4. **정책 위반**: 컴플라이언스 규정 미준수

---

## 📊 학습 성과 측정

### ✅ 이론 이해도
- [ ] Zero Trust 원칙 설명 가능
- [ ] OAuth2/JWT/mTLS 차이점 이해
- [ ] Policy as Code 개념 파악
- [ ] 보안 아키텍처 설계 능력

### 🛠️ 실습 완성도
- [ ] mTLS 자동 구성 완료
- [ ] JWT 인증 시스템 구현
- [ ] OPA 정책 작성 및 적용
- [ ] 보안 취약점 해결

### 🎯 실무 적용도
- [ ] 보안 아키텍처 설계 가능
- [ ] 인증 시스템 구축 능력
- [ ] 정책 기반 거버넌스 구현
- [ ] 보안 사고 대응 능력

---

## 🔗 연결성

### 이전 학습과의 연결
- **Day 1**: 마이크로서비스 아키텍처 → 보안 경계 설정
- **Day 2**: API Gateway/Service Mesh → 보안 정책 적용점

### 다음 학습 준비
- **Day 4**: GitOps → 보안 정책의 코드화 및 자동 배포
- **Day 5**: FinOps → 보안 비용 최적화

---

## 💡 실무 팁

### 🔒 보안 베스트 프랙티스
1. **최소 권한 원칙**: 필요한 최소한의 권한만 부여
2. **심층 방어**: 다층 보안 체계 구축
3. **지속적 모니터링**: 실시간 보안 이벤트 추적
4. **자동화**: 수동 보안 설정 최소화

### ⚠️ 흔한 보안 실수
- mTLS 설정 후 검증 누락
- JWT 토큰 만료 시간 과도하게 길게 설정
- 정책 예외 처리 과다 허용
- 보안 로그 미수집

---

## 📚 참고 자료

### 📖 필수 문서
- [Zero Trust Architecture - NIST](https://www.nist.gov/publications/zero-trust-architecture)
- [OAuth 2.0 RFC 6749](https://tools.ietf.org/html/rfc6749)
- [JWT RFC 7519](https://tools.ietf.org/html/rfc7519)
- [OPA Documentation](https://www.openpolicyagent.org/docs/)

### 🛠️ 도구 및 플랫폼
- **Service Mesh**: Istio, Linkerd
- **Identity Provider**: Keycloak, Auth0
- **Policy Engine**: OPA, Kyverno
- **Security Scanning**: Trivy, Falco

---

<div align="center">

**🔒 Zero Trust 보안** • **🔐 통합 인증** • **📋 정책 자동화** • **🛡️ 컴플라이언스**

*마이크로서비스 환경의 완벽한 보안 체계 구축*

**이전**: [Day 2 - API Gateway와 Service Mesh](../day2/README.md) | **다음**: [Day 4 - GitOps와 배포 자동화](../day4/README.md)

</div>
